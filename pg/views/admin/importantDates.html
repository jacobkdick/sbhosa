<div class="container">
  <div ng-show="noticeSuccess" class="col-md-4 col-md-offset-4 col-sm-6 col-sm-offset-3 col-xs-10 col-xs-offset-1">
  	<div class="notice notice-success">
  		<strong>Success!</strong> {{ noticeSuccess }}
      <span class="pull-right close" ng-click="noticeSuccess = null">&times;</span>
  	</div>
  </div>
  
  <div class="section-header">
  	<h2>Important Dates</h2>
    <p>
    	Use this tool to control the sidebar on the home page. Any new changes
      will be automatically displayed on the home page.
    </p>
  </div>
  
  <div class="well well-sm well-light">
	<table class="table table-hover table-responsive">
		<thead>
			<tr>
				<th class="col-xs-2"><h4>Name</h4></th>
        <th class="col-xs-2"><h4>Location</h4></th>
        <!-- <th class="col-xs-4">Start/End Date</th> -->
        <th class="col-xs-2"><h4>Start Date</h4></th>
        <th class="col-xs-2"><h4>End Date</h4></th>
        <th class="col-xs-3"><h4>Description</h4></th>
        <th class="col-xs-1"></th>
			</tr>
		</thead>
    <tbody>
        <tr ng-repeat="date in importantDates">
          <form>
            <!-- name -->
            <td class="col-xs-2">
							<span ng-hide="showImportantDatesForm">{{ date.name }}</span>
              
              <input type="text" ng-show="showImportantDatesForm" class="form-control input-sm" id="importantDateName" onclick="this.select()" ng-model="date.name" placeholder="Name" />
            </td>

            <!-- location -->
            <td class="col-xs-2">
							<span ng-hide="showImportantDatesForm">{{ date.location }}</span>
              
              <input type="text" ng-show="showImportantDatesForm" class="form-control input-sm" id="importantDateLocation" onclick="this.select()" ng-model="date.location" placeholder="Location" />
            </td>

            <!-- startDate/endDate -->
            <!-- <td class="col-xs-4">
            							<span ng-hide="showImportantDatesForm">{{ date.startDate | amDateFormat:'MMM D' }} <em>to</em> {{ date.endDate | amDateFormat:'MMM D' }}</span>
              
              
            </td> -->
            <!-- startDate -->
            <td class="col-xs-2">
            	<span ng-hide="showImportantDatesForm">{{ date.startDate | amDateFormat:'MMM D, YYYY' }}</span>
              
              <input type="text" ng-show="showImportantDatesForm" class="form-control input-sm" id="importantDateStartDate" onclick="this.select()" ng-model="date.startDate" placeholder="4/29/2017" />
            </td>
            
            <!-- endDate -->
            <td class="col-xs-2">
            	<span ng-hide="showImportantDatesForm">{{ date.endDate | amDateFormat:'MMM D, YYYY' }}</span>
              
              <input type="text" ng-show="showImportantDatesForm" class="form-control input-sm" id="importantDateEndDate" onclick="this.select()" ng-model="date.endDate" placeholder="4/29/2017" />
            </td>

            <!-- description -->
            <td class="col-xs-3">
							<span ng-hide="showImportantDatesForm" class="text-preserve">{{ date.description }}</span>
              
              <span ng-show="showImportantDatesForm">
              	<textarea id="importantDateDescription{{ $index }}" rows="8" class="form-control input-sm" onclick="this.select()" ng-model="date.description" placeholder="Description"></textarea>
              </span>
              
            </td>
            
            <!-- edit/delete -->
            <td class="col-xs-1">
              <span ng-hide="showImportantDatesForm">
              	<a href="" ng-click="showImportantDatesForm = true"><i class="fa fa-lg fa-pencil-square-o text-primary"></i></a>
                <a href="" ng-click="importantDates.$remove(date)"><i class="fa fa-lg fa-times text-danger"></i></a>
              </span>
              <span ng-show="showImportantDatesForm">
              	<a href="" ng-click="importantDates.$save(date);showImportantDatesForm = false;refreshBindings()"><i class="fa fa-lg fa-check text-success"></i></a>
                <a href="" ng-click="showImportantDatesForm = false;refreshBindings()"><i class="fa fa-lg fa-ban text-warning"></i></a>
              </span>
            </td>
          </form>
        </tr>
    </tbody>
	</table>
  
  <table ng-show="showNewImportantDateForm" class="table table-responsive">
    <form>
      <tr>
        <!-- name -->
        <td class="col-xs-2">
          <input type="text" class="form-control input-sm" id="newImportantDateName" onclick="this.select()" ng-model="newImportantDate.name" placeholder="Name" />
        </td>

        <!-- location -->
        <td class="col-xs-2">
					<input type="text" class="form-control input-sm" id="newImportantDateLocation" onclick="this.select()" ng-model="newImportantDate.location" placeholder="Location" />
        </td>

        <!-- startDate -->
        <td class="col-xs-2">
					<input type="text" class="form-control input-sm" id="newImportantDateStartDate" onclick="this.select()" ng-model="newImportantDate.startDate" placeholder="4/29/2017" />
        </td>

        <!-- endDate -->
        <td class="col-xs-2">
					<input type="text" class="form-control input-sm" id="newImportantDateEndDate" onclick="this.select()" ng-model="newImportantDate.endDate" placeholder="4/29/2017" />
        </td>

        <!-- description -->
        <td class="col-xs-3">
          <textarea id="newImportantDateDescription" rows="8" class="form-control input-sm" onclick="this.select()" ng-model="newImportantDate.description" placeholder="Description"></textarea>
        </td>

        <!-- save/cancel -->
        <td class="col-xs-1">
          <a href="" ng-click="addDate();showNewImportantDateForm=false;refreshBindings()"><i class="fa fa-lg fa-check text-success"></i></a>
          <a href="" ng-click="showNewImportantDateForm=false;refreshBindings()"><i class="fa fa-lg fa-ban text-warning"></i></a>
        </td>
      </tr>
    </form>
  </table>
  
  <a href="" ng-click="showNewImportantDateForm = true" class="text-success"><i class="fa fa-lg fa-plus"></i> New Date</a>
    </div>
</div>
